<!-- meta-data title: Adding tags and talks -->
<!-- meta-data searchtitle: adding-tags-and-talks  -->
<!-- meta-data date: 21 July 2019 -->
<!-- meta-data intro: New functionality to my blog -->
<!-- meta-data author: Mike Harris  -->
<!-- meta-data category: tech -->

<p>
  This blog is my own little side project and one of the benefits of using something small that you bulit is that it is relatively straightforward to adding new features.  At it's inception the blog had categories with posts having one category. I wanted to add a tags feature which allows posts to have multiple tags.  The main immediate need is that I wanted to split out all posts that referenced talks I've done.
</p>

<h4>Page meta data</h4>
<p>
   Each post in the blog has a bunch of meta data tags that are parsed and converted into page attributes. For example the meta data for this page consists of the following:
  </p>
   <pre><code class="language-html">
      &lt;!-- meta-data title: Adding tags and talks --&gt;
      &lt;!-- meta-data searchtitle: adding-tags-and-talks  --&gt;
      &lt;!-- meta-data date: 21 July 2019 --&gt;
      &lt;!-- meta-data intro: New functionality to my blog --&gt;
      &lt;!-- meta-data author: Mike Harris  --&gt;
      &lt;!-- meta-data category: tech --&gt;
    </code></pre>
    <p>
      Adding a new attribute is a case of adding the following.

    </p>
      <pre><code class="language-html">
        &lt;!-- meta-data tags: talk, code --&gt;
    </code></pre>
    <p>
      The main different here is that the values are an array.  For all the other tags they are key value pairs.
    </p>


<h4>Parsing tags</h4>

<p>
  The server reads all the files in the content folder, it then parses each page using a regex pattern to convert the meta tags to values.  In this case I added an if statement that checks if it's the 'tags' tag and if so convert the value into an array by splitting on commas.
</p>

<h4>Filtering by tags</h4>
<p>
  This blog uses handlebars as the templating engine. For the categories functionality I wrote a `compares` function to check if a post matched the category.  As tags are arrays this time we needed an `includes` function.
</p>
<h4>Adding and viewing the tags</h4>
<p>
  Once the core functionality was done I needed to go back and update previous posts to include tags.  My main initial need was to be able to collect all the talks I've done so added a talk tag to those pages.  In the future I will add a more dynamic tags page where you can see all the tags and select the ones you want but for now I've built a fixed template for posts tagged as talks. There's a new link on the main menu and you can see the result of all the work <a href=-"/talks">on the talks page</a></p>


<h4>Viewing the code</h4>

<p>
  This was a quick summary of the changes - all the code can be seen in full in this PR on <a href="https://github.com/mikemjharris/blog/pull/4/files" target="_blank">github</a>
</p>
<p>
   This project is very much a side project and most of the core functionality is almost five years old.  I know there are many improvements but the main reasons for the project is that it's fun, it's easy to update and it works.  It fulfils all of those targets.
</p>

